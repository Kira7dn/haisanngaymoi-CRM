# [x] app\(features)\crm\managements\page.tsx - COMPLETED ✅
Chia dashboard thành các module/sections riêng biệt (ví dụ:tài chính, khách hàng, đơn hàng, sản phẩm, rủi ro, dự báo...), Bổ sung tính năng tùy chỉnh dashboard UI, kéo thả các card/widget cần thiết

# [x] scripts
Tạo script để tạo dữ liệu khách hàng, đơn hàng theo dữ liệu sản phẩm

# [x] app\(features)\_shared\_components\chatbot\CRMCopilot.tsx
Bổ sung tính năng conversation history

#  app\(features)\crm\managements\page.tsx - COMPLETED ✅
[x] Fix lỗi React key prop warning - COMPLETED ✅
## Error Type
```
    Console Error

    ## Error Message
    Each child in a list should have a unique "key" prop.

    Check the render method of `DraggableWidget`. It was passed a child from DashboardPage. See https://react.dev/link/warning-keys for more information.


        at DashboardPage (app\(features)\crm\managements\page.tsx:45:18)

    ## Code Frame
    43 |       id: "inventory-alerts",
    44 |       title: "Cảnh báo tồn kho",
    > 45 |       component: <InventoryAlertsClient />,
        |                  ^
    46 |       visible: true,
    47 |     },
    48 |     {

    Next.js version: 16.0.1 (Turbopack)
```
**Fix**: Added key props to conditional sections in InventoryAlertsClient component

[x] Chỉnh sửa Widget editor - COMPLETED ✅
- ✅ Đưa Widget List hướng dọc sang bên trái, UI sang bên phải
- ✅ Group các widget theo module, bố trí các group đó trên UI
- ✅ Tiêu chuẩn hóa kích thước Widget (min-h-[280px])
- ✅ Chia nhỏ Widget thành các module riêng biệt (finance, customer, order, product, risk, forecast)
[x] Chỉnh sửa Widget editor
- Group các widget theo module, bố trí các group đó trên UI, Ví dụ: bên trái là Widget List được chia thành groups: tài chính, khách hàng, đơn hàng, sản phẩm, rủi ro, dự báo, Bên phải là UI cũng được chia thành các group tương ứng, widget tài chính chỉ có thể drag vào khu vực tài chính...

[x] Tinh chỉnh Widget
- Tách "Chỉ số chính", "Phân tích lợi nhuận","Phân tích khách hàng","Chỉ số nâng cao","Biểu đồ đơn hàng" thành các module riêng lẻ
- Sử dụng cơ chế lưới để sắp xếp các widget, các kích thước các widget sẽ cần được tiêu chuẩn theo lưới, width của lưới là cố định (n columns), nhưng height có thể kéo dài tùy ý
- Thêm nút lên xuống cho từng Group trong Widget UI

[x]app\(features)\crm\managements\_components\CustomizableDashboardClient.tsx
Fix error: Argument of type '({ visible: any; id: string; title: string; component: ReactNode; gridArea?: string | undefined; } | undefined)[]' is not assignable to parameter of type 'SetStateAction<Widget[]>'.
  Type '({ visible: any; id: string; title: string; component: ReactNode; gridArea?: string | undefined; } | undefined)[]' is not assignable to type 'Widget[]'.
    Type '{ visible: any; id: string; title: string; component: ReactNode; gridArea?: string | undefined; } | undefined' is not assignable to type 'Widget'.
      Type 'undefined' is not assignable to type 'Widget'.

[x] Chia nhỏ Widget
- Tách DashboardStats, AIRiskAssessmentClient,ProfitAnalysisClient,CustomerInsights,EnhancedMetrics... thành các module riêng lẻ có thể kéo thả tách biệt


[x]app\(features)\crm\managements\_components\AIRiskAssessment.tsx
- Thêm skeleton loading

[x] app\(features)\crm\managements\_components\widgets
- Sửa các Widget còn lại giống như app\(features)\crm\managements\_components\widgets\RiskAlerts.tsx và app\(features)\crm\managements\_components\widgets\TodayRevenueWidget.tsx

[ ] Chia nhỏ Widget
- Tách các component  bên trong AIRiskAssessmentClient,OrdersChart,TodayProfitWidget, MonthProfitWidget... thành các module riêng lẻ có thể kéo thả tách biệt

[x] app\(features)\crm\managements\page.tsx

- Thay đổi to CustomizableDashboardClient dùng https://github.com/Inder2108/react-gridstack-example/tree/master

[ ] app\(features)\_shared\_components\chatbot\CRMCopilot.tsx
Bổ sung tính năng bổ sung, xóa bỏ widget trong Dashboard cho Copilot Agent
Instruction:
  + add agents endpoint, refer https://github.com/ag-ui-protocol/ag-ui/blob/main/apps/dojo/src/app/api/copilotkit/%5BintegrationId%5D/route.ts
  + integrateable UI, refer https://github.com/ag-ui-protocol/ag-ui/blob/main/apps/dojo/src/app/%5BintegrationId%5D/feature/shared_state/page.tsx
  + add agent UI, refer https://github.com/ag-ui-protocol/ag-ui/blob/main/integrations/langgraph/python/examples/agents/shared_state/agent.py